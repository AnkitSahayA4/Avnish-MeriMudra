$(document).ready(function () {

    $("#dataTable").DataTable();
    var buttonCommon = {
        init: function (dt, node, config) {
            var table = dt.table().context[0].nTable;
            if (table) config.title = $(table).data('export-title')
        },
        title: 'default title'
    };
    var columns_no = Number($("#dataTable_button").data('export-column'));
    var columns = [];
    for (var i = 0; i < columns_no; i++) {
        columns.push(i);
    }
    //alert(columns_string);
    //columns = JSON.parse(columns_string);
    $("#dataTable_button").DataTable({
        dom: 'Bfrtip',
        buttons: [

             $.extend(true, {}, buttonCommon, {
                 extend: 'excelHtml5',
                 // messageTop: title,
                 exportOptions: {
                     columns: columns
                 }
             }),
               $.extend(true, {}, buttonCommon, {
                   extend: 'csvHtml5',
                   // messageTop: title,
                   exportOptions: {
                       columns: columns
                   }
               }),
                 $.extend(true, {}, buttonCommon, {
                     extend: 'pdfHtml5',
                     // messageTop: title,
                     exportOptions: {
                         columns: columns
                     }
                 })
            // {
            //     extend: 'csvHtml5',
            //     exportOptions: {
            //         columns: columns
            //     }
            // },
            //{
            //    extend: 'pdfHtml5',
            //    exportOptions: {
            //        columns: columns
            //    }
            //}
        ]
    });
});